{"version":3,"sources":["navBar.js"],"names":["timer","navBar","document","querySelector","navItems","querySelectorAll","navChildren","goTop","body","onscroll","documentElement","scrollTop","parseInt","bannerHeight","style","display","i","length","addEventListener","mouseEnter","mouseLeave","j","mouseEnterChild","mouseLeaveChild","this","classList","contains","remove","add","navChild","clearTimeout","width","getBoundingClientRect","left","offsetLeft","opacity","top","transform","transition","event","currentTarget","setTimeout"],"mappings":"CACA,WACI,IAIIA,EAJAC,EAASC,SAASC,cAAc,YAChCC,EAAWF,SAASG,iBAAiB,kBACrCC,EAAcJ,SAASG,iBAAiB,6BAIxCE,GAHWL,SAASC,cAAc,iCAG1BD,SAASC,cAAc,gBAGnCD,SAASM,KAAKC,SAAW,WACjBP,SAASQ,gBAAgBC,WAAaC,SAASC,cAAgB,IAC/DN,EAAMO,MAAMC,QAAU,QAEtBR,EAAMO,MAAMC,QAAU,QAc9B,IAAK,IAAIC,EAAI,EAAGA,EAAIZ,EAASa,OAAQD,IACjCZ,EAASY,GAAGE,iBAAiB,YAAaC,GAAY,GACtDf,EAASY,GAAGE,iBAAiB,WAAYE,GAAY,GAEzD,IAAK,IAAIC,EAAI,EAAGA,EAAIf,EAAYW,OAAQI,IACpCf,EAAYe,GAAGH,iBAAiB,YAAaI,GAAiB,GAC9DhB,EAAYe,GAAGH,iBAAiB,aAAcK,GAAiB,GAyBnE,SAASJ,IACL,IAAKK,KAAKC,UAAUC,SAAS,UAAW,CACpC,IAAK,IAAIV,EAAI,EAAGA,EAAIZ,EAASa,OAAQD,IAC7BZ,EAASY,GAAGS,UAAUC,SAAS,WAC/BtB,EAASY,GAAGS,UAAUE,OAAO,UAGrCH,KAAKC,UAAUG,IAAI,UACnB,IAAIC,EAAWL,KAAKrB,cAAc,cAC9B0B,IACAC,aAAa9B,GACb6B,EAASJ,UAAUG,IAAI,SAE3B,IAAIG,EAAQP,KAAKQ,wBAAwBD,MACrCE,EAAOT,KAAKU,WAChBjC,EAAOa,MAAMqB,QAAU,EACvBlC,EAAOa,MAAMsB,IAAMA,IAAM,KACzBnC,EAAOa,MAAMmB,KAAOA,EAAO,KAC3BhC,EAAOa,MAAMiB,MAAQA,EAAQ,KAC7B9B,EAAOa,MAAMuB,UAAY,YACzBpC,EAAOa,MAAMwB,WAAa,kBAIlC,SAASlB,EAAWmB,GAChB,IAAIV,EAAWU,EAAMC,cAAcrC,cAAc,cAC7C0B,IACA7B,EAAQyC,WAAW,WACfZ,EAASJ,UAAUE,OAAO,SAC3B,MAEPH,KAAKC,UAAUE,OAAO,UACtB1B,EAAOa,MAAMqB,QAAU,EACvBlC,EAAOa,MAAMuB,UAAY,YACzBpC,EAAOa,MAAMwB,WAAa,qBAG9B,SAAShB,EAAgBiB,GACrBT,aAAa9B,GACbwB,KAAKC,UAAUG,IAAI,QAGvB,SAASL,EAAgBgB,GACrBf,KAAKC,UAAUE,OAAO,SAtG9B","file":"../navBar.min.js","sourcesContent":[";\r\n(function() {\r\n    var navBar = document.querySelector('.nav-bar'),\r\n        navItems = document.querySelectorAll('.nav .nav-item'),\r\n        navChildren = document.querySelectorAll('.nav .nav-item .nav-child'),\r\n        selecter = document.querySelector('.form-select input[type=text]'),\r\n        timer;\r\n    // var bannerHeight = document.defaultView.getComputedStyle(document.querySelector('.site-banner-main')).height;\r\n    var goTop = document.querySelector('.fixbar-top');\r\n\r\n    //滚动到某位置显示更多\r\n    document.body.onscroll = function() {\r\n        if (document.documentElement.scrollTop >= parseInt(bannerHeight) - 200) {\r\n            goTop.style.display = 'block';\r\n        } else {\r\n            goTop.style.display = 'none';\r\n        }\r\n    };\r\n    //直到顶部\r\n    // goTop.onclick = function(event) {\r\n    //     var goTopTimer = setInterval(function() {\r\n    //         document.documentElement.scrollTop = document.documentElement.scrollTop - 10;\r\n    //         if (document.documentElement.scrollTop == 0) {\r\n    //             clearInterval(goTopTimer);\r\n    //         }\r\n    //     }, 10);\r\n\r\n    // };\r\n    //导航栏事件\r\n    for (var i = 0; i < navItems.length; i++) {\r\n        navItems[i].addEventListener('mouseover', mouseEnter, false);\r\n        navItems[i].addEventListener('mouseout', mouseLeave, false);\r\n    }\r\n    for (var j = 0; j < navChildren.length; j++) {\r\n        navChildren[j].addEventListener('mouseover', mouseEnterChild, false);\r\n        navChildren[j].addEventListener('mouseleave', mouseLeaveChild, false);\r\n    }\r\n    // selecter.addEventListener('focus', selectFocus, false);\r\n    // selecter.addEventListener('blur', selectBlur, false);\r\n\r\n    //下拉框获取焦点\r\n    function selectFocus() {\r\n        var parent = getParentByclass(this, 'form-select');\r\n        parent.classList.add('form-selected');\r\n    }\r\n    //失去焦点\r\n    function selectBlur() {\r\n        var parent = getParentByclass(this, 'form-select');\r\n        parent.classList.remove('form-selected');\r\n    }\r\n\r\n    //根据子元素class获得父元素\r\n    function getParentByclass(ele, classStr) {\r\n        var parent = ele.parentNode;\r\n        while (!parent.classList.contains(classStr)) {\r\n            parent = parent.parentNode;\r\n        }\r\n        return parent;\r\n    }\r\n\r\n    function mouseEnter() {\r\n        if (!this.classList.contains('active')) {\r\n            for (var i = 0; i < navItems.length; i++) {\r\n                if (navItems[i].classList.contains('active')) {\r\n                    navItems[i].classList.remove('active');\r\n                }\r\n            }\r\n            this.classList.add('active');\r\n            var navChild = this.querySelector('.nav-child');\r\n            if (navChild) {\r\n                clearTimeout(timer);\r\n                navChild.classList.add('show');\r\n            }\r\n            var width = this.getBoundingClientRect().width;\r\n            var left = this.offsetLeft;\r\n            navBar.style.opacity = 1;\r\n            navBar.style.top = top + 'px';\r\n            navBar.style.left = left + 'px';\r\n            navBar.style.width = width + 'px';\r\n            navBar.style.transform = 'scaleX(1)'\r\n            navBar.style.transition = \"all .2s linear\"\r\n        }\r\n    }\r\n\r\n    function mouseLeave(event) {\r\n        var navChild = event.currentTarget.querySelector('.nav-child');\r\n        if (navChild) {\r\n            timer = setTimeout(function() {\r\n                navChild.classList.remove('show');\r\n            }, 500);\r\n        }\r\n        this.classList.remove('active');\r\n        navBar.style.opacity = 0;\r\n        navBar.style.transform = 'scaleX(0)'\r\n        navBar.style.transition = \"all .3s linear .3s\"\r\n    }\r\n\r\n    function mouseEnterChild(event) {\r\n        clearTimeout(timer);\r\n        this.classList.add('show');\r\n    }\r\n\r\n    function mouseLeaveChild(event) {\r\n        this.classList.remove('show');\r\n    }\r\n})();"]}